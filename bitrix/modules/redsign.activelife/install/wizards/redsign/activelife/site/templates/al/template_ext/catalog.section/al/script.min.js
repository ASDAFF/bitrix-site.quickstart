$(document).ready(function(){$(".js_popup_detail").fancybox({width:1170,wrapCSS:"popup_detail",fitToView:!0,autoSize:!0,openEffect:"fade",closeEffect:"fade",padding:[25,20,25,20],helpers:{title:null},ajax:{dataType:"html",headers:{popup_detail:"Y"}},beforeLoad:function(){this.href=this.href+(0<this.href.indexOf("?")?"&":"?")+"popup_detail=Y"},beforeShow:function(){appSLine.setProductItems()},afterClose:function(){appSLine.setProductItems()},afterShow:function(){$(".fancybox-inner").css("overflow","visible")}})}),$(document).on("mouseenter",".catalog_item",function(){$(this).addClass("is-hover")}),$(document).on("mouseleave",".catalog_item",function(){$(this).removeClass("is-hover").find(".div_select.opened").removeClass("opened").addClass("closed")}),$(document).on("click",".js-catalog_refresh a",function(e){var a=$(this),r=a.attr("href").replace("+","%2B"),t=a.closest(".js-catalog_refresh"),o=t.data("ajax-id");$refreshArea=$("#"+o);var s={type:"POST",url:r,success:function(e){var o=BX.parseJSON(e);if(void 0!=t.data("history-push")&&history.pushState(null,null,r),null==o)$refreshArea.html(e);else for(var s in o)$("#"+s).html(o[s]);a.parent().addClass("active").siblings().removeClass("active"),appSLine.setProductItems()},error:function(){console.warn("sorter - change template -> error responsed")},complete:function(){appSLine.ajaxExec=!1,$refreshArea.rsToggleDark()}};t.length>0&&!appSLine.ajaxExec&&"#"!=s.url&&void 0!=s.url&&($refreshArea.rsToggleDark({progress:!0,progressTop:"100px"}),appSLine.ajaxExec=!0,s.url+=(s.url.indexOf("?")<0?"?":"&"!=s.url.slice(-1)?"&":"")+"rs_ajax=Y",void 0!=o&&(s.url+="&ajax_id="+o),$.ajax(s)),e.preventDefault()}),$(document).on("click",".js-ajaxpages a",function(e){var a=$(this),r=a.attr("href"),t=a.closest(".js-ajaxpages"),o={type:"POST",url:r,success:function(e){var a=BX.parseJSON(e);if(null==a)t.replaceWith(e);else for(var r in a)$("#"+r).html(a[r])},error:function(){console.warn("ajaxpages -> error responsed")},complete:function(){appSLine.ajaxExec=!1,t.rsToggleDark()}};o.url+=(o.url.indexOf("?")<1?"?":"&"!=o.url.slice(-1)?"&":"")+"rs_ajax=Y&ajax_type=pages",t.length>0&&!appSLine.ajaxExec&&(appSLine.ajaxExec=!0,$.ajax(o)),e.preventDefault()}),$(window).on("scroll",function(){$(".js-ajaxpages_auto").each(function(){var e=$(this);200>e.offset().top-window.pageYOffset-$(window).height()&&!appSLine.ajaxExec&&e.trigger("click")})});