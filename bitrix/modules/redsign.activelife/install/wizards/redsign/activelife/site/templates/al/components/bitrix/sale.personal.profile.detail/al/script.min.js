BX.namespace("BX.Sale.PersonalProfileComponent"),function(){BX.Sale.PersonalProfileComponent.PersonalProfileDetail={init:function(){var e=document.getElementsByClassName("sale-personal-profile-detail-property-file");Array.prototype.forEach.call(e,function(e){var l=e.getElementsByClassName("profile-property-input-delete-file")[0],a=e.getElementsByClassName("sale-personal-profile-detail-input-file")[0],i=e.getElementsByClassName("sale-personal-profile-detail-load-file-info")[0],s=e.getElementsByClassName("sale-personal-profile-detail-load-file-cancel")[0];BX.bindDelegate(e,"click",{class:"profile-property-check-file"},BX.proxy(function(e){""!=l.value?(idList=l.value.split(";"),idList.indexOf(e.target.value)===-1?l.value=l.value+";"+e.target.value:(idList.splice(idList.indexOf(e.target.value),1),l.value=idList.join(";"))):l.value=e.target.value},this)),BX.bind(a,"change",BX.delegate(function(e){e.target.files.length>1?(i.innerHTML=BX.message("SPPD_FILE_COUNT")+e.target.files.length,s.classList.remove("sale-personal-profile-hide")):1==e.target.files.length?(fileName=e.target.files[0].name,fileName.length>40?i.innerHTML=fileName.substr(0,9)+"..."+fileName.substr(-9):i.innerHTML=e.target.files[0].name,s.classList.remove("sale-personal-profile-hide")):(s.classList.add("sale-personal-profile-hide"),i.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED"))},this)),BX.bind(s,"click",BX.delegate(function(){s.classList.add("sale-personal-profile-hide"),i.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED"),a.value="",a.files=[]},this))})}}}();