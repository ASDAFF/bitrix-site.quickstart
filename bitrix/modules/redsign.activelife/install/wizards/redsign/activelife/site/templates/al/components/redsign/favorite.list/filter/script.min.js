$(document).on("click",".js-favorite",function(e){e.preventDefault();var t=$(this),a=$(this).closest(".js-product"),n=parseInt(a.data("product-id"));n>0&&$.ajax({type:"POST",dataType:"json",data:{rs_ajax:"Y",action:"add2favorite",element_id:n},success:function(a){"OK"==a.STATUS?(appSLine.favoriteList[n]?delete appSLine.favoriteList[n]:appSLine.favoriteList[n]=!0,t.find(".favorite__cnt").text(a.LIKES_COUNT),appSLine.setProductItems()):(console.warn("favorite - error responsed"),e.preventDefault())},error:function(){console.warn("favorite - fail request"),e.preventDefault()},complete:function(){}})});