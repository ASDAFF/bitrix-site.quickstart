function RSAL_FancyCloseAfterRequest(e){e<1&&(e=RSAL_FancyCloseDelay),setTimeout(function(){$.fancybox.close()},e)}!function(e){e.rsSline||(e.rsSline=function(){this.offers={},this.cartList={},this.favoriteList={},this.compareList={},this.stocks={},this.fancyTimeout=1e3,this.ajaxTimeout=0,this.ajaxTimeoutTime=1e3,this.ajaxExec=!1,this.grid={0:0,xs:480,sm:768,md:992,lg:1220},this.pageWidth=this.getPageWidth(),this.pageHeight=this.getPageHeight(),this.fancyOptions={autoSize:!0,openEffect:"fade",closeEffect:"fade",closeClick:!1,width:"80%",minWidth:300,maxWidth:1263,height:"auto",maxHeight:"100%",fitToView:!0,scrolling:"visible",padding:[25,30,25,30],beforeLoad:function(){this.ajax.data&&(this.ajax.data.rs_ajax__page="Y");var t;if(this.element)var t=this.element.data("insert_data");return e.appSLine.getPageWidth()<=e.appSLine.grid.xs?(void 0!=t&&BX.localStorage.set("ajax_data",t),e.location=this.element.data("realurl")?this.element.data("realurl"):this.href,!1):void(void 0!=t&&(this.ajax.data.ajax_data=t))},afterLoad:function(){var e=(this.element,this.inner),t=void 0!=this.ajax.data&&void 0!=this.ajax.data.ajax_data?BX.parseJSON(this.ajax.data.ajax_data):void 0;void 0!=t&&"object"==typeof t&&setTimeout(function(){for(var i in t)e.find('[name="'+i+'"]').val(BX.util.htmlspecialcharsback(t[i]))},50)},beforeShow:function(){},afterClose:function(){RSAL_FancyReloadPageAfterClose&&e.location.reload()},afterShow:function(){console.log("afterShow"),appSLine.ready(this.inner)},tpl:{closeBtn:'<svg class="fancybox-item fancybox-close icon-close icon-svg" href="javascript:;" title="Close"><use xlink:href="#svg-close"></use></svg>',loading:'<div id="fancybox-loading" class="loading">          <div class="loading__in loading__1"></div>          <div class="loading__in loading__2"></div>          <div class="loading__in loading__3"></div>          <div class="loading__in loading__4"></div>          <div class="loading__in loading__5"></div>          <div class="loading__in loading__6"></div>          <div class="loading__in loading__7"></div>          <div class="loading__in loading__8"></div>        </div>'},helpers:{title:{type:"inside",position:"top"}}},this.owlOptions={loop:!0,nav:!0,navClass:["owl-nav__prev js-click","owl-nav__next js-click"],navText:['<svg class="icon-left icon-svg"><use xlink:href="#svg-left"></use></svg>','<svg class="icon-right icon-svg"><use xlink:href="#svg-right"></use></svg>'],responsive:{0:{items:2}},onInitialize:function(){(this.$element.hasClass("grid-wrap")||this.$element.hasClass("js-grid"))&&(this._breakpoint=0)},onInitialized:function(){this.$element.addClass("owl-carousel"),this.$element.closest(".fancybox-inner").length&&$.fancybox.update()},onChanged:function(){this.settings.loop=!(this._items.length<=this.settings.items)&&this.options.loop}},this.owlOptions.responsive[this.grid.xs]={items:2},this.owlOptions.responsive[this.grid.sm]={items:3},this.owlOptions.responsive[this.grid.md]={items:3},this.owlOptions.responsive[this.grid.lg]={items:5}},sec=-1,rsSline.prototype.timer=function(){var e=BX.message("SERVER_TIME");sec++,e=parseInt(e)+sec,$(".js_timer").each(function(t){var i=$(this),a=BX.parseJSON(i.data("timer")),s=a.DATE_TO-a.DATE_FROM,n=a.DATE_TO-e;if(n<1&&"Y"==a.AUTO_RENEWAL)for(lim=0;lim<200;lim++)if(newdateTo=lim*s+a.DATE_TO-e,newdateTo>0){n=newdateTo;break}if(n>0){var o=parseInt(n/3600/24);o<10&&(o="0"+o),o=o.toString();var r=parseInt(n/3600),l=parseInt(n/3600%24);l<10&&(l="0"+l),l=l.toString();var d=parseInt(n/60)%60;d<10&&(d="0"+d),d=d.toString();var c=parseInt(n)%60;c<10&&(c="0"+c),c=c.toString();var p=!1;if(a.DINAMICA_DATA){if("evenly"==a.DINAMICA_DATA)p=Math.floor(100-n/s*100);else{var u=!1,h=!1;for(var f in a.DINAMICA_DATA){if(u||(u=f,h=f),u<r&&r<f){p=a.DINAMICA_DATA[f];break}u=f}p||(r>u?p=a.DINAMICA_DATA[u]:r<u&&(p=a.DINAMICA_DATA[h]))}p&&i.find(".js_timer-progress").text(p+"%")}var g=i.find(".js_timer-d"),m=i.find(".js_timer-s");o<1?(g.is(":visible")&&g.parent().hide().next(".timer__cell").hide(),m.text(c),m.is(":hidden")&&m.parent().show().prev(".timer__cell").show()):o>0&&(g.text(o),m.is(":hidden")&&g.parent().show().next(".timer__cell").show(),m.is(":visible")&&m.parent().hide().prev(".timer__cell").hide()),i.find(".js_timer-H").text(l),i.find(".js_timer-i").text(d)}else i.css("display","none").closest(".js-element").removeClass("da2 qb")})},rsSline.prototype.setProductCart=function(e){var t=parseInt(e.find(".js-product_id").val());this.cartList&&(this.cartList[t]?e.addClass("is-incart"):e.removeClass("is-incart"))},rsSline.prototype.setProductCompare=function(e){var t=parseInt(e.find(".js-product_id").val());this.compareList&&(this.compareList[t]?e.find(".js-compare").addClass("checked"):e.find(".js-compare").removeClass("checked"))},rsSline.prototype.setProductFavorite=function(e){var t=e.data("product-id");this.favoriteList&&(this.favoriteList[t]?e.find(".js-favorite").addClass("checked"):e.find(".js-favorite").removeClass("checked"))},rsSline.prototype.setProductItems=function(e){var t=$.extend({wrap:"",items:""},e),i=this;if(""==t.items)if(""==t.wrap)var a=$(".js-product");else var a=$(t.wrap).find(".js-product");else var a=t.items;a.each(function(){var e=$(this);i.cartList&&i.setProductCart(e),i.compareList&&i.setProductCompare(e),i.favoriteList&&i.setProductFavorite(e)})},rsSline.prototype.mobilePoppup=function(){$(document).width()<780?($(".js-popup-ajax").removeClass("js-popup-ajax").addClass("fancymobilelink"),$(document).on("click.fancymobilelink","a.fancymobilelink",function(){var e=$(this).data("insert_data");BX.localStorage.set("ajax_data",e)})):$(document).off("click.fancymobilelink")},rsSline.prototype.gridInit=function(e){var t=this,i=($.extend({wrap:"",items:""},e),".js-catalog_slider");1024>this.pageWidth&&(i+=", .js-grid"),1024>=this.pageWidth?i+=", .rs_set-default":$(".rs_set-default.owl-carousel").trigger("destroy.owl.carousel").removeClass("owl-carousel").removeAttr("style"),$(i).each(function(){var e=$(this);if(e.hasClass("owl-carousel"))e.find(".owl-stage").hide(),e.removeAttr("style").width(e.parent().width()-1).find(".owl-stage").show();else{var i={dots:!1,responsive:{}};i.responsive[0]={items:2},i.responsive[t.grid.xs]={items:2},i.responsive[t.grid.sm]={items:3},i.responsive[t.grid.md]={items:4},i.responsive[t.grid.lg]={items:5},e.width(e.parent().width()-1).owlCarousel($.extend(!0,{},t.owlOptions,i))}})},rsSline.prototype.ready=function(t){var i=this;this.setup(),this.setProductItems(),this.mobilePoppup(),setInterval(function(){i.timer()},1e3),$(e).resize(function(){i.onResize()})},rsSline.prototype.onResize=function(){this.setup(),this.mobilePoppup(),console.log("RESIZE")},rsSline.prototype.setup=function(e){this.pageWidth=this.getPageWidth(),this.pageHeight=this.getPageHeight();var t=$("#webpage");t.children(".l-main").css("height","auto"),t.height()<this.pageHeight&&t.children(".l-main").css("min-height",this.pageHeight-t.children(".l-header").height()-t.children(".l-footer").height()),this.gridInit(),console.log("this.pageWidth",this.pageWidth)},rsSline.prototype.getPageWidth=function(t){return e.innerWidth?e.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0},rsSline.prototype.getPageHeight=function(t){return e.innerHeight?e.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0},rsSline.prototype.encodeURI=function(e){var t=e.split(/(:\/\/|:\\d+\/|\/|\?|=|&)/),i="";if(t.length>0)for(var a in t)i+=a%2?t[a]:encodeURIComponent(t[a]);return i},e.rsSline=rsSline)}(window);var appSLine=new rsSline;!function(e){appSLine.gridInit()}(jQuery),function(e){e.fn.onImageLoad=function(t){function i(e){return!!e.complete&&("undefined"==typeof e.naturalWidth||0!==e.naturalWidth)}return this.each(function(){var a=e(this);a.is("img")&&e.isFunction(t)&&(a.one("load",t),i(this)&&a.trigger("load"))})}}(jQuery),function(e){e.fn.setHtmlByUrl=function(t){var i=e.extend({url:""},t);return this.each(function(){if(""!=i.url){var t=e(this);e.ajax({type:"GET",dataType:"html",url:i.url,beforeSend:function(){if("localStorage"in window&&null!==window.localStorage)return data=localStorage.getItem(i.url),!data||(localStorage.setItem(i.url,data),t.html(data),!1)},success:function(e){localStorage.setItem(i.url,e),t.html(e)}})}})}}(jQuery),function(e){e.fn.rsToggleDark=function(t){return t=e.extend(e.fn.rsToggleDark.defaults,t),this.each(function(){var i=e(this),a=i.children(".overlay__back");t.progress&&a.length?$status=a.find(".load__status").html(t.message):i.hasClass("overlay")?i.removeClass("overlay").children(".overlay__back").remove():(i.addClass("overlay"),a=e('<div class="overlay__back vcenter"><div class="overlay__progress vcenter__in"><div class="load"><div class="load__ball load__1"><div class="load__inner"></div></div><div class="load__ball load__2"><div class="load__inner"></div></div><div class="load__ball load__3"><div class="load__inner"></div></div><div class="load__ball load__4"><div class="load__inner"></div></div><div class="load__ball load__5"><div class="load__inner"></div></div></div></div></div>'),a.appendTo(i))})}}(jQuery);var RSAL_FancyCloseDelay=1200,RSAL_FancyReloadPageAfterClose=!1;RSAL_PHONETABLET="N",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(RSAL_PHONETABLET="Y"),void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(e){appSLine.ready()}):BX.ready(function(){appSLine.ready()}),$(document).on("click",".js-ajax_link, .fancybox-skin .js-ajax_fancy",function(e){e.preventDefault(),void 0==this.form&&$.fancybox(this,$.extend({},appSLine.fancyOptions,{type:"ajax",ajax:{type:"POST",data:{backurl:window.location.href}}}))}),$(document).on("submit",".fancybox-inner .js-ajax_form",function(e){var t=$(this),i="frame"+Math.round(1e3*Math.random()),a=$("<input>",{type:"hidden",name:"rs_ajax__page",value:"Y"}),s=$("<iframe></iframe>",{id:i,name:i,style:"display:none",load:function(){$.fancybox($(this).contents().find("body").html(),$.extend({},appSLine.fancyOptions,{title:t.data("fancybox-title")||t.attr("title")||"",afterShow:function(){s.remove()}}))}});t.append(a).attr("target",i),$("body").append(s),BX.onCustomEvent("onAjaxSuccess"),$.fancybox.showLoading()}),$(document).on("mouseenter",".js-basket-minus, .js-basket-plus",function(){$("html").addClass("disableSelection")}),$(document).on("mouseleave",".js-basket-minus, .js-basket-plus",function(){$("html").removeClass("disableSelection")}),$(document).on("click",".js-basket-plus",function(){clearTimeout(rsSline.ajaxTimeout);var e=$(this).siblings(".js-quantity"),t=parseFloat(e.val()),i=parseFloat(e.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),e.val((t+i).toFixed(s)),rsSline.ajaxTimeout=setTimeout(function(){e.trigger("change")},appSLine.ajaxTimeoutTime)}),$(document).on("click",".js-basket-minus",function(){clearTimeout(rsSline.ajaxTimeout);var e=$(this).siblings(".js-quantity"),t=parseFloat(e.val()),i=parseFloat(e.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),t>i&&(e.val((t-i).toFixed(s)),rsSline.ajaxTimeout=setTimeout(function(){e.trigger("change")},appSLine.ajaxTimeoutTime))}),$(document).on("blur",".js-quantity",function(){var e=$(this),t=parseFloat(e.val()),i=parseFloat(e.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),0<t?e.val((i*Math.floor(t/i)).toFixed(s)):e.val(i)}),$(document).on("click",".rs_gallery-thumb",function(e){var t=$(this),i=t.closest(".rs_gallery-thumbs");return i.find(".rs_gallery-thumb").removeClass("checked"),t.addClass("checked").closest(".rs_gallery").find(".rs_gallery-detal").attr("src",$(this).attr("href")),!1}),$(document).on("click",".rs_gallery-prev, .rs_gallery-next",function(){var e=$(this),t=$(this).parents(".rs_gallery"),i=t.find(".rs_gallery-thumb.checked");if(e.hasClass("rs_gallery-prev")){var a=i.prev(".rs_gallery-thumb");a.length>0?a.trigger("click"):t.find(".rs_gallery-thumb:last").trigger("click")}else{var a=i.next(".rs_gallery-thumb");a.length>0?a.trigger("click"):t.find(".rs_gallery-thumb:first").trigger("click")}return!1}),$(document).on("mouseenter mouseleave",".rs_gallery-prev, .rs_gallery-next",function(){$("html").toggleClass("disableSelection")}),$(document).on("click",".rs_gallery-pic",function(){$(this).find(".rs_gallery-next").trigger("click")}),$(document).on("click",".js-product .js-add2cart",function(e){var t=$(this),i=$(this.form),a=parseInt(i.find(".js-product_id").val());if(a>0){var s=i.closest(".js-product"),n=s.children(".catalog_item__inner"),o=t.attr("href"),r={type:"POST",dataType:"html",success:function(e){e=BX.parseJSON(e),"OK"===e.STATUS&&(BX.onCustomEvent("OnBasketChange"),appSLine.cartList[a]=!0,appSLine.setProductCart(s))},error:function(){console.warn("add2cart - error responsed?")},complete:function(){n.rsToggleDark()}};o?(r.url=o,r.data="ajax_basket=Y"):r.data=$(this.form).serialize()+"&ajax_basket=Y";var l=s.find(".product_props").find("input");l.length>0?r.data+="&"+s.find(".product_props").find("input").serialize():r.data+="&prop[0]",n.length<1&&(n=s),n.rsToggleDark({progress:!0}),$.ajax(r)}else console.warn("add product to basket failed");return!1}),$(document).on("click",".js-product .js-compare",function(e){e.preventDefault();var t=$(this),i=$(this).closest(".js-product"),a=i.data();if(void 0!=a){var s=a.offerId?a.offerId:a.productId,n=t.attr("href").replace("#ID#",s),o=i.children(".rs_product-inner"),r={type:"POST",data:{ajax_action:"Y"},url:n,success:function(e){if(e=BX.parseJSON(e),"OK"===e.STATUS&&(appSLine.compareList[s]?delete appSLine.compareList[s]:appSLine.compareList[s]=!0,!e.COUNT)){e.COUNT=0;for(var t in appSLine.compareList)e.COUNT++}appSLine.setProductCompare(i),BX.onCustomEvent("OnCompareChange")},error:function(){console.warn("add2cmp - error responsed?")},complete:function(){o.rsToggleDark()}};o.length<1&&(o=i),appSLine.compareList[s]&&(r.url=r.url.replace("ADD_TO_COMPARE_LIST","DELETE_FROM_COMPARE_LIST")),o.rsToggleDark({progress:!0}),$.ajax(r)}else console.warn("add product to compare failed");return!1}),$(document).on("click",".js-product .js-product__unsubscribe",function(e){e.preventDefault();var t=$(this),i=$(this).closest(".js-product"),a=i.data();if(void 0!=a){var s=a.offerId?a.offerId:a.productId,n="/bitrix/components/bitrix/catalog.product.subscribe.list/ajax.php",o=i.children(".rs_product-inner"),r={type:"POST",data:{sessid:BX.bitrix_sessid(),deleteSubscribe:"Y",itemId:s,listSubscribeId:t.data("subscribe-id").length>0?BX.parseJSON(t.data("subscribe-id")):[]},url:n,success:function(e){e=BX.parseJSON(e),e.success&&location.reload()},error:function(){console.warn("deleteSubscribe - error responsed?")},complete:function(){o.rsToggleDark()}};o.length<1&&(o=i),o.rsToggleDark({progress:!0}),console.log(r),$.ajax(r)}else console.warn("Product ID undefined");return!1});